{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Jackal",
	"patterns": [
		{ "include": "#comments" },
		{ "include": "#strings" },
		{ "include": "#when-expression" },
		{ "include": "#function-declaration" },
		{ "include": "#keywords" },
		{ "include": "#storage" },
		{ "include": "#types" },
		{ "include": "#constants" },
		{ "include": "#entities" },
		{ "include": "#operators" },
		{ "include": "#annotations" },
		{ "include": "#punctuation" }
	],
	"repository": {
		"comments": {
			"patterns": [
				{
					"name": "comment.line.double-slash.jackal",
					"match": "//.*$"
				},
				{
					"name": "comment.block.documentation.jackal",
					"begin": "/\\*\\*",
					"end": "\\*/",
					"patterns": [
						{
							"name": "storage.type.class.jsdoc",
							"match": "@(param|returns?|throws?|type|typedef|example|description|author|version|since)\\b"
						}
					]
				},
				{
					"name": "comment.block.jackal",
					"begin": "/\\*",
					"end": "\\*/"
				}
			]
		},
		"strings": {
			"patterns": [
				{
					"name": "string.quoted.double.jackal",
					"begin": "\"",
					"end": "\"",
					"patterns": [
						{
							"name": "constant.character.escape.jackal",
							"match": "\\\\(n|r|t|\\\\|\"|'|u[0-9a-fA-F]{4})"
						},
						{
							"name": "constant.character.escape.invalid.jackal",
							"match": "\\\\."
						}
					]
				},
				{
					"name": "string.quoted.single.jackal",
					"begin": "'",
					"end": "'",
					"patterns": [
						{
							"name": "constant.character.escape.jackal",
							"match": "\\\\(n|r|t|\\\\|\"|')"
						}
					]
				},
				{
					"name": "string.template.jackal",
					"begin": "`",
					"end": "`",
					"patterns": [
						{
							"name": "constant.character.escape.jackal",
							"match": "\\\\."
						},
						{
							"name": "meta.embedded.line.jackal",
							"begin": "\\$\\{",
							"end": "\\}",
							"patterns": [
								{ "include": "$self" }
							]
						}
					]
				}
			]
		},
		"when-expression": {
			"patterns": [
				{
					"name": "meta.when.expression.jackal",
					"begin": "\\b(when)\\s*\\{",
					"beginCaptures": {
						"1": { "name": "keyword.control.when.jackal" }
					},
					"end": "\\}",
					"patterns": [
						{
							"name": "meta.when.condition.jackal",
							"begin": "\\(",
							"end": "\\)",
							"patterns": [
								{ "include": "$self" }
							]
						},
						{
							"name": "keyword.operator.arrow.jackal",
							"match": "(->|=>)"
						},
						{ "include": "$self" }
					]
				}
			]
		},
		"function-declaration": {
			"patterns": [
				{
					"name": "meta.function.declaration.jackal",
					"begin": "\\b(function|fn)\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*\\(",
					"beginCaptures": {
						"1": { "name": "storage.type.function.jackal" },
						"2": { "name": "entity.name.function.jackal" }
					},
					"end": "\\)\\s*(:)\\s*([A-Z][a-zA-Z0-9_]*)",
					"endCaptures": {
						"1": { "name": "punctuation.separator.type.jackal" },
						"2": { "name": "entity.name.type.return.jackal" }
					},
					"patterns": [
						{
							"name": "meta.parameter.jackal",
							"match": "([a-zA-Z_][a-zA-Z0-9_]*)\\s*(?:(:)\\s*([A-Z][a-zA-Z0-9_]*))?",
							"captures": {
								"1": { "name": "variable.parameter.jackal" },
								"2": { "name": "punctuation.separator.type.jackal" },
								"3": { "name": "entity.name.type.parameter.jackal" }
							}
						},
						{
							"name": "punctuation.separator.parameter.jackal",
							"match": ","
						}
					]
				},
				{
					"name": "meta.variable.type.jackal",
					"match": "\\b(let|const|var)\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*(:)\\s*([A-Z][a-zA-Z0-9_]*)",
					"captures": {
						"1": { "name": "storage.type.variable.jackal" },
						"2": { "name": "variable.other.declaration.jackal" },
						"3": { "name": "punctuation.separator.type.jackal" },
						"4": { "name": "entity.name.type.jackal" }
					}
				}
			]
		},
		"keywords": {
			"patterns": [
				{
					"name": "keyword.control.when.jackal",
					"match": "\\b(when)\\b"
				},
				{
					"name": "keyword.control.flow.jackal",
					"match": "\\b(if|else|elif|match|case|default)\\b"
				},
				{
					"name": "keyword.control.loop.jackal",
					"match": "\\b(while|for|do|in|of)\\b"
				},
				{
					"name": "keyword.control.return.jackal",
					"match": "\\b(return|yield)\\b"
				},
				{
					"name": "keyword.control.exception.jackal",
					"match": "\\b(try|catch|finally|throw|throws)\\b"
				},
				{
					"name": "keyword.control.jump.jackal",
					"match": "\\b(break|continue)\\b"
				},
				{
					"name": "keyword.control.import.jackal",
					"match": "\\b(import|from|export|as)\\b"
				},
				{
					"name": "keyword.other.jackal",
					"match": "\\b(extends|implements|with|is|as|typeof|instanceof)\\b"
				},
				{
					"name": "keyword.control.new.jackal",
					"match": "\\b(new|delete)\\b"
				},
				{
					"name": "keyword.other.async.jackal",
					"match": "\\b(async|await)\\b"
				}
			]
		},
		"storage": {
			"patterns": [
				{
					"name": "storage.type.variable.jackal",
					"match": "\\b(let|const|var)\\b"
				},
				{
					"name": "storage.type.function.jackal",
					"match": "\\b(function|fn|lambda)\\b"
				},
				{
					"name": "storage.type.class.jackal",
					"match": "\\b(class|interface|trait|enum|struct|type|namespace)\\b"
				},
				{
					"name": "storage.modifier.access.jackal",
					"match": "\\b(public|private|protected|internal)\\b"
				},
				{
					"name": "storage.modifier.jackal",
					"match": "\\b(static|final|abstract|virtual|override|readonly|mutable)\\b"
				}
			]
		},
		"types": {
			"patterns": [
				{
					"name": "support.type.primitive.jackal",
					"match": "\\b(Number|String|Boolean|Array|Object|Map|Set|List|Dict|Tuple|Any|Void|Never)\\b"
				},
				{
					"name": "support.type.numeric.jackal",
					"match": "\\b(Int|Float|Double|Long|Short|Byte|UInt|ULong)\\b"
				},
				{
					"name": "support.type.advanced.jackal",
					"match": "\\b(Promise|Future|Option|Result|Error|Iterator|Generator)\\b"
				},
				{
					"name": "entity.name.type.jackal",
					"match": "\\b[A-Z][a-zA-Z0-9_]*\\b"
				}
			]
		},
		"constants": {
			"patterns": [
				{
					"name": "constant.language.boolean.jackal",
					"match": "\\b(true|false)\\b"
				},
				{
					"name": "constant.language.null.jackal",
					"match": "\\b(nil|null|undefined|none)\\b"
				},
				{
					"name": "constant.language.this.jackal",
					"match": "\\b(this|self|super)\\b"
				},
				{
					"name": "constant.numeric.decimal.jackal",
					"match": "\\b\\d+(_\\d+)*(\\.\\d+(_\\d+)*)?([eE][+-]?\\d+)?\\b"
				},
				{
					"name": "constant.numeric.hex.jackal",
					"match": "\\b0[xX][0-9a-fA-F]+(_[0-9a-fA-F]+)*\\b"
				},
				{
					"name": "constant.numeric.binary.jackal",
					"match": "\\b0[bB][01]+(_[01]+)*\\b"
				},
				{
					"name": "constant.numeric.octal.jackal",
					"match": "\\b0[oO][0-7]+(_[0-7]+)*\\b"
				},
				{
					"name": "constant.other.caps.jackal",
					"match": "\\b[A-Z_][A-Z0-9_]+\\b"
				}
			]
		},
		"entities": {
			"patterns": [
				{
					"name": "entity.name.function.call.jackal",
					"match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\s*(?=\\()"
				},
				{
					"name": "entity.name.type.class.declaration.jackal",
					"match": "(?<=class\\s+|interface\\s+|enum\\s+|trait\\s+)\\b[a-zA-Z_][a-zA-Z0-9_]*\\b"
				},
				{
					"name": "variable.other.property.jackal",
					"match": "(?<=\\.)\\b[a-zA-Z_][a-zA-Z0-9_]*\\b"
				},
				{
					"name": "variable.other.constant.jackal",
					"match": "\\b[A-Z_][A-Z0-9_]*\\b"
				}
			]
		},
		"operators": {
			"patterns": [
				{
					"name": "keyword.operator.arithmetic.jackal",
					"match": "(\\+{1,2}|\\-{1,2}|\\*{1,2}|\\/|%|\\^)"
				},
				{
					"name": "keyword.operator.comparison.jackal",
					"match": "(==|!=|===|!==|<|>|<=|>=|<=>)"
				},
				{
					"name": "keyword.operator.logical.jackal",
					"match": "(&&|\\|\\||!|\\?\\?)"
				},
				{
					"name": "keyword.operator.bitwise.jackal",
					"match": "(&|\\||\\^|~|<<|>>|>>>)"
				},
				{
					"name": "keyword.operator.assignment.jackal",
					"match": "(=|\\+=|\\-=|\\*=|\\/=|%=|&=|\\|=|\\^=|<<=|>>=|\\?=)"
				},
				{
					"name": "keyword.operator.arrow.jackal",
					"match": "(=>|->|\\|>)"
				},
				{
					"name": "keyword.operator.spread.jackal",
					"match": "(\\.{3}|\\.\\.)"
				},
				{
					"name": "keyword.operator.optional.jackal",
					"match": "(\\?|\\?\\.)"
				}
			]
		},
		"annotations": {
			"patterns": [
				{
					"name": "storage.type.annotation.jackal",
					"match": "@(override|deprecated|inline|noinline|tailrec|suppress|experimental|test|benchmark)\\b"
				},
				{
					"name": "storage.type.annotation.custom.jackal",
					"match": "@[a-zA-Z_][a-zA-Z0-9_]*\\b"
				}
			]
		},
		"punctuation": {
			"patterns": [
				{
					"name": "punctuation.separator.comma.jackal",
					"match": ","
				},
				{
					"name": "punctuation.terminator.statement.jackal",
					"match": ";"
				},
				{
					"name": "punctuation.accessor.jackal",
					"match": "\\."
				},
				{
					"name": "punctuation.separator.colon.jackal",
					"match": ":"
				},
				{
					"name": "meta.brace.round.jackal",
					"match": "[\\(\\)]"
				},
				{
					"name": "meta.brace.square.jackal",
					"match": "[\\[\\]]"
				},
				{
					"name": "meta.brace.curly.jackal",
					"match": "[\\{\\}]"
				}
			]
		}
	},
	"scopeName": "source.jackal"
}